import { m } from 'framer-motion';
import Lottie from 'react-lottie-player'
import React from 'react';
import { Link as RouterLink } from 'react-router-dom';
// @mui
import { styled } from '@mui/material/styles';
import { Button, Box, Link, Container, Typography, Stack, TextField } from '@mui/material';
import SvgIcon, { SvgIconProps } from '@mui/material/SvgIcon';
import FormControlLabel from '@mui/material/FormControlLabel';
import FormControl from '@mui/material/FormControl';
import FormHelperText from '@mui/material/FormHelperText';
import FormLabel from '@mui/material/FormLabel';
import InputLabel from '@mui/material/InputLabel';
import FilledInput from '@mui/material/FilledInput';
// routes

// components
import Image from '../../components/Image';
import Logo from '../../components/Logo';
import Iconify from '../../components/Iconify';
import TextIconLabel from '../../components/TextIconLabel';
import { MotionContainer, varFade, varZoom } from '../../components/animate';
import lottieJson from '../../animations/1.json';
// ----------------------------------------------------------------------

const RootStyle = styled(m.div)(({ theme }) => ({
    position: 'fixed',
    top: 0,
    left: 0,
    width: '100%',
    height: '100%',
    display: 'flex',
    alignItems: 'center',
    zIndex: '11111',
    backgroundColor: '#fff',
    [theme.breakpoints.up('xs')]: {

    },
}));

const LoaderBar = styled(Box)(({ theme }) => ({
    backgroundImage: `url('/icons/loader.svg')`
}));
const ContentStyle = styled((props) => <Stack spacing={5} {...props} />)(({ theme }) => ({
    zIndex: 10,
    maxWidth: 520,
    margin: '0 auto',
    textAlign: 'center',
    position: 'relative',
    height: '100vh',
    paddingTop: theme.spacing(5),
    paddingBottom: theme.spacing(5),
    [theme.breakpoints.up('md')]: {

    },
}));


// ----------------------------------------------------------------------

const handleShown = (isAlertVisible) => {

   if(!isAlertVisible){
     return varFade().out;
   }
};

export default function TrackingPreloader() {
    const [ isAlertVisible, setIsAlertVisible ] = React.useState(true);

    setTimeout(() => {
        setIsAlertVisible(false);
    }, 3000);
    return (
        <MotionContainer variants={handleShown(isAlertVisible)} >
            <RootStyle>
                <Container sx={{ overflow: 'hidden' }}>
                    <ContentStyle sx={{ width: '100%', maxWidth: '682px', margin: 'auto' }}>
                        <m.div variants={varFade().in} style={{ overflow: 'hidden', height: '100%' , justifyContent: 'space-between'}}>
                            <Stack direction="column" sx={{ gap: '20px', justifyContent: 'space-between', height: '100%'}}>
                                <Logo/>
                                <Box>
                                    <svg width="246" height="254" viewBox="0 0 246 254" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fillRule="evenodd" clipRule="evenodd" d="M32.0006 55.8965C34.357 59.4368 35.3558 63.2558 35.1885 66.4903C35.0213 69.725 33.7257 72.1664 31.7099 73.508C29.6941 74.8496 26.9419 75.1024 23.8933 74.0081C20.845 72.9138 17.7075 70.5182 15.3512 66.9779C12.9948 63.4375 11.996 59.6185 12.1632 56.384C12.3305 53.1494 13.6261 50.708 15.6419 49.3663C17.6577 48.0247 20.4099 47.7719 23.4585 48.8663C26.5068 49.9605 29.6443 52.3561 32.0006 55.8965ZM34.7038 74.9414C39.3922 70.4756 39.4238 61.6351 34.498 54.2343C29.143 46.1885 19.9566 42.8909 13.9797 46.8689C8.0028 50.847 7.49871 60.5943 12.8538 68.6401C17.8812 76.1936 26.2854 79.5622 32.2406 76.6545L49.5657 100.776C50.0489 101.449 50.9862 101.603 51.659 101.12C52.3319 100.637 52.4856 99.6993 52.0023 99.0264L34.7038 74.9414Z" fill="#284492"/>
                                        <path d="M36.8147 80.0246C34.4495 80.2453 33.6372 81.3683 32.0191 83.1074C27.3335 88.1434 44.7006 109.71 44.7006 109.71C44.7006 109.71 47.3583 88.4801 45.8943 85.5526C44.1606 82.0861 40.6738 79.6645 36.8147 80.0246Z" fill="white"/>
                                        <path d="M183.812 224.578H204.437V245.738H185.334C184.493 245.738 183.812 245.057 183.812 244.216V224.578Z" fill="#284492"/>
                                        <path d="M184 203.299V182H246V246H225.299V203.299H184Z" fill="#FF5C5C"/>
                                        <path d="M142.494 174.475C142.494 174.475 141.953 207.885 184.408 243.874C137.636 232.358 38.7009 153.321 100.901 90.4966" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path d="M81.8855 152.936C81.8855 152.936 70.6762 138.399 65.8359 119.346C70.0515 113.412 76.4523 107.321 76.4523 107.321H66.7733C66.7733 107.321 74.2551 90.5053 98.226 88.0594" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path fillRule="evenodd" clipRule="evenodd" d="M127.507 160.107C127.14 161.27 122.199 117.401 148.584 90.4972C152.175 99.3563 154.517 111.069 154.517 111.069L143.12 110.601L146.398 124.032C146.398 124.032 136.093 132.778 127.507 160.107Z" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path d="M114.68 94.2172C114.759 97.5698 129.378 106.384 157.637 96.2333C160.291 95.14 150.661 85.9258 146.289 84.5204" stroke="#FF5C5C" strokeWidth="3.35443"/>
                                        <path d="M92.9384 36.2257L95.3723 75.8019C95.9733 85.5804 104.386 93.0202 114.161 92.4197L121.449 91.972C136.4 91.0527 147.775 78.1842 146.855 63.2294C146.855 63.2294 155.68 63.2968 156.273 55.943C156.866 48.5884 149.277 45.3081 145.24 47.6475C145.016 44.0025 144.21 34.2358 144.21 34.2358C144.21 34.2358 86.5508 46.1643 82.2921 26.1664C78.0349 6.16831 101.014 6.71882 101.014 6.71882C101.014 6.71882 94.1286 11.8681 100.559 14.1009C106.991 16.335 142.458 13.2977 142.458 13.2977C142.458 13.2977 153.412 12.1075 153.813 23.6305C154.214 35.1542 156.293 54.8862 156.293 54.8862" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path d="M146.29 70.4203V92.9655" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path d="M157.638 96.2331C157.638 96.2331 199.168 129.539 189.332 150.68C182.93 162.138 165.601 166.198 145.617 162.294C145.772 166.355 147.334 182.52 129.691 170.845C125.164 167.292 128.372 157.429 128.372 157.429L162.479 139.337L147.367 136.057C147.367 136.057 141.18 144.277 140.713 150.68" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path fillRule="evenodd" clipRule="evenodd" d="M195.577 67.6534L204.319 58.7513L208.691 69.9576C208.691 69.9576 203.724 113.748 157.638 96.2329C157.473 93.9322 158.093 92.3972 158.093 92.3972C158.093 92.3972 195.733 104.354 195.577 67.6534Z" stroke="#FF5C5C" strokeWidth="3.35443"/>
                                        <path d="M162.478 139.337C162.478 139.337 184.333 123.449 189.331 150.681" stroke="#284492" strokeWidth="3.27397"/>
                                        <path d="M105.28 56.8568L111.23 56.0819" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path d="M125.735 49.2225L126.794 57.3529" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path d="M112.16 75.0593C112.16 75.0593 121.797 76.5207 128.992 69.2057" stroke="#284492" strokeWidth="3.27397" strokeLinecap="round" strokeLinejoin="round"/>
                                        <ellipse cx="144.956" cy="249.565" rx="48.9303" ry="3.59889" fill="#E5E9F3"/>
                                        <path d="M48.221 121.581C48.221 121.581 38.663 146.888 19.5607 130.098" stroke="#284492" strokeWidth="3.19444"/>
                                        <path d="M74.9998 143.5C74.9998 143.5 39.5 165.5 23.0101 142.745C16.0009 131.158 21.2007 113.543 34.8979 97.6074C31.1769 95.6751 15.8837 88.8317 35.3543 78.9601C40.8503 76.7116 48.0585 84.6195 48.0585 84.6195L46.8823 124.442C46.8823 124.442 57.6299 113.366 66.9392 106.72" stroke="#284492" strokeWidth="3.19444" strokeLinecap="round" strokeLinejoin="round"/>
                                        <path d="M21 51.1461C21 51.1461 25.8419 51.5569 30.0495 57.6421C33.8964 63.2057 32.9158 68.5615 32.9158 68.5615" stroke="#284492" strokeWidth="2" strokeLinecap="round"/>
                                    </svg>
                                    <LoaderBar className="loader--element"/>
                                    <Typography sx={{ color: '#284492', textAlign: 'center' }}>Please wait, we are looking for your package.</Typography>

                                </Box>
                                <Box/>
                            </Stack>
                        </m.div>
                    </ContentStyle>
                    <m.div variants={varZoom().in} style={{ position: 'absolute', top:0, left:0, width: '100%' }}>
                        <svg width="1436" height="699" viewBox="0 0 1436 699" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M367.042 201.035C367.042 204.36 364.346 207.056 361.021 207.056C357.696 207.056 355 204.36 355 201.035C355 197.71 357.696 195.014 361.021 195.014C364.346 195.014 367.042 197.71 367.042 201.035Z" fill="#284492"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M426.359 341.077C426.359 342.432 425.261 343.53 423.906 343.53C422.551 343.53 421.453 342.432 421.453 341.077C421.453 339.722 422.551 338.624 423.906 338.624C425.261 338.624 426.359 339.722 426.359 341.077Z" fill="#284492"/>
                            <path opacity="0.3" fillRule="evenodd" clipRule="evenodd" d="M450.443 72.5889C450.443 77.8848 446.15 82.1777 440.854 82.1777C435.558 82.1777 431.265 77.8848 431.265 72.5889C431.265 67.293 435.558 63 440.854 63C446.15 63 450.443 67.293 450.443 72.5889Z" fill="#FF5C5C"/>
                            <path opacity="0.3" fillRule="evenodd" clipRule="evenodd" d="M979 661.021C979 657.696 981.696 655 985.021 655C988.346 655 991.042 657.696 991.042 661.021C991.042 664.346 988.346 667.042 985.021 667.042C981.696 667.042 979 664.346 979 661.021Z" fill="#284492"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M192.219 62.3793C183.503 59.8149 181.821 58.1115 179.356 49.3566C179.165 48.6619 178.53 48.1864 177.813 48.1818C177.09 48.1772 176.451 48.6527 176.253 49.3382C173.689 58.0584 171.986 59.7433 163.231 62.2038C162.538 62.3954 162.061 63.0302 162.056 63.7503C162.051 64.4681 162.527 65.1098 163.214 65.3106C171.93 67.875 173.617 69.5761 176.077 78.3309C176.273 79.021 176.908 79.5058 177.628 79.5104C178.346 79.515 178.987 79.0372 179.188 78.3517C181.752 69.6315 183.452 67.9511 192.208 65.486C192.902 65.2945 193.38 64.6597 193.385 63.9396C193.382 63.2194 192.914 62.587 192.219 62.3793Z" fill="#FF5C5C"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M76 291C76 295.418 72.1945 299 67.5 299C62.8055 299 59 295.418 59 291C59 286.582 62.8055 283 67.5 283C72.1945 283 76 286.582 76 291Z" fill="#284492"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M403.247 614.124C403.247 621.372 397.372 627.247 390.124 627.247C382.875 627.247 377 621.372 377 614.124C377 606.875 382.875 601 390.124 601C397.372 601 403.247 606.875 403.247 614.124Z" fill="#FF5C5C"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M1428.7 3.26786C1428.7 1.47666 1430.15 0.0246143 1431.95 0.0246143C1433.74 0.0246143 1435.19 1.47666 1435.19 3.26786C1435.19 5.05906 1433.74 6.51111 1431.95 6.51111C1430.15 6.51111 1428.7 5.05906 1428.7 3.26786Z" fill="#284492"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M1428.7 319.337C1428.7 317.546 1430.15 316.094 1431.95 316.094C1433.74 316.094 1435.19 317.546 1435.19 319.337C1435.19 321.128 1433.74 322.58 1431.95 322.58C1430.15 322.58 1428.7 321.128 1428.7 319.337Z" fill="#284492"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M1352.52 412.123C1352.24 412.2 1352.05 412.458 1352.04 412.75C1352.04 413.041 1352.23 413.302 1352.51 413.383C1357.28 414.784 1358.28 415.791 1359.62 420.579C1359.7 420.859 1359.96 421.055 1360.25 421.057C1360.54 421.059 1360.8 420.865 1360.88 420.587C1362.29 415.816 1363.29 414.821 1368.08 413.477C1368.36 413.399 1368.55 413.142 1368.55 412.85C1368.56 412.558 1368.36 412.298 1368.08 412.217C1363.32 410.815 1362.32 409.808 1360.98 405.023C1360.9 404.741 1360.64 404.548 1360.35 404.546C1360.06 404.544 1359.8 404.737 1359.72 405.016C1358.31 409.781 1357.31 410.779 1352.52 412.123Z" fill="#FF5C5C"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M1180.48 184.094C1184.09 185.156 1184.79 185.861 1185.81 189.486C1185.89 189.774 1186.15 189.971 1186.45 189.973C1186.75 189.975 1187.01 189.778 1187.09 189.494C1188.16 185.883 1188.86 185.185 1192.49 184.167C1192.77 184.087 1192.97 183.824 1192.97 183.526C1192.97 183.229 1192.78 182.963 1192.49 182.88C1188.88 181.818 1188.19 181.114 1187.17 177.488C1187.09 177.203 1186.82 177.002 1186.52 177C1186.23 176.998 1185.96 177.196 1185.88 177.48C1184.82 181.091 1184.11 181.787 1180.49 182.807C1180.2 182.887 1180 183.15 1180 183.448C1180 183.746 1180.19 184.008 1180.48 184.094Z" fill="#FF5C5C"/>
                            <path opacity="0.3" fillRule="evenodd" clipRule="evenodd" d="M1303.91 445.443C1303.91 438.441 1309.59 432.765 1316.59 432.765C1323.59 432.765 1329.27 438.441 1329.27 445.443C1329.27 452.446 1323.59 458.122 1316.59 458.122C1309.59 458.122 1303.91 452.446 1303.91 445.443Z" fill="#FF5C5C"/>
                            <path opacity="0.3" fillRule="evenodd" clipRule="evenodd" d="M1026 393.5C1026 382.73 1034.73 374 1045.5 374C1056.27 374 1065 382.73 1065 393.5C1065 404.27 1056.27 413 1045.5 413C1034.73 413 1026 404.27 1026 393.5Z" fill="#FF5C5C"/>
                            <path opacity="0.3" fillRule="evenodd" clipRule="evenodd" d="M991 98.2032C991 95.3296 993.329 93 996.203 93C999.077 93 1001.41 95.3296 1001.41 98.2032C1001.41 101.077 999.077 103.406 996.203 103.406C993.329 103.406 991 101.077 991 98.2032Z" fill="#284492"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M80.041 641.292C80.044 640.83 79.7387 640.42 79.2985 640.291C71.0005 637.854 69.268 636.097 66.9278 627.773C66.8048 627.326 66.3987 627.019 65.9363 627.016C65.4739 627.014 65.0634 627.32 64.9359 627.76C62.4935 636.057 60.7417 637.789 52.4141 640.129C51.968 640.252 51.6627 640.658 51.6597 641.121C51.6567 641.583 51.962 641.995 52.4037 642.122C60.6987 644.563 62.4312 646.316 64.7714 654.641C64.8944 655.089 65.302 655.394 65.7644 655.397C66.2268 655.4 66.6373 655.093 66.7663 654.653C69.2057 646.358 70.9605 644.625 79.2852 642.285C79.7283 642.162 80.0395 641.755 80.041 641.292Z" fill="#FF5C5C"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M1304 39.8056C1304 40.4548 1304.42 41.0312 1305.04 41.2122C1316.69 44.6332 1319.13 47.1011 1322.41 58.7892C1322.59 59.4176 1323.16 59.8484 1323.81 59.8525C1324.45 59.8546 1325.03 59.426 1325.21 58.8079C1328.64 47.1572 1331.1 44.7247 1342.79 41.4391C1343.42 41.2663 1343.85 40.6962 1343.85 40.047C1343.86 39.3977 1343.43 38.8193 1342.81 38.6403C1331.16 35.2131 1328.73 32.7515 1325.44 21.0613C1325.27 20.4328 1324.7 20.0042 1324.05 20C1323.4 19.9959 1322.82 20.4266 1322.64 21.0446C1319.21 32.6932 1316.75 35.1257 1305.06 38.4114C1304.44 38.5841 1304 39.1564 1304 39.8056Z" fill="#FF5C5C"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M15 22C15 30.2844 8.28444 37 -9.53674e-07 37C-8.28444 37 -15 30.2844 -15 22C-15 13.7156 -8.28444 7 -9.53674e-07 7C8.28444 7 15 13.7156 15 22Z" fill="#FF5C5C"/>
                        </svg>
                    </m.div>
                </Container>
                
            </RootStyle>
        </MotionContainer>
    );
}
